#### èƒŒæ™¯

æœ€è¿‘å…¬å¸é¡¹ç›®é›†æˆäº†`Bugtags`,å‘ç°å¥”æºƒæ¦‚ç‡è¾¾åˆ°äº†2%ï¼Œæ€ªä¸å¾—`AppStore`è¯„è®ºæœ‰äººåœ¨ã€éª‚å¨˜ã€‘ã€‚ä¸»è¦é—®é¢˜æ˜¯æœ‰ä¸€ä¸ª`Signal 10 was raised. SIGBUS (_mh_execute_header + 795252)`çš„bugï¼Œä½†åœ¨å¥”æºƒå †æ ˆä¸­æŸ¥ä¸åˆ°æœ‰ç”¨ä¿¡æ¯ã€‚ä»ç»Ÿè®¡æ•°æ®ä¸­å‘ç°ï¼Œå¥”æºƒå¤§å¤šå‡ºç°åœ¨`iOS9.0`-`iOS9.3`ä¹‹é—´çš„ç‰ˆæœ¬ã€‚

#### æ‰¾æ‰‹æœºä¸€æ³¢ä¸‰æŠ˜

å‘ç°å´©æºƒå¤§å¤šå‡ºç°åœ¨iOS9.0-9.3ï¼ŒiPhone6ã€6 Plusã€6sã€6s Plusæ‰‹æœºä¸Šï¼Œå› ä¸ºæµ‹è¯•äººå‘˜æ²¡æœ‰`iOS9.3ä»¥ä¸‹`ç‰ˆæœ¬çš„æ‰‹æœºï¼Œæ‰€ä»¥å°±æš‚æ—¶æç½®æ²¡è§£å†³ã€‚

ç¬¬äºŒå¤©æ—©æ™¨ä¸€çœ‹å¥”æºƒç‡å¢åŠ ï¼Œå·²ç»åˆ°äº†éè§£å†³ä¸å¯çš„åœ°æ­¥ã€‚äºæ˜¯æˆ‘ä»¬å…ˆåœ¨å…¬å¸ç¾¤é‡Œæ‚¬èµå†å–è°æœ‰`iOS9.3`ä»¥ä¸‹çš„æ‰‹æœºï¼Œå…¬å¸400å¤šäººæ²¡ä¸€ä¸ªğŸ˜­ã€‚

å®åœ¨æ²¡åŠæ³•åªèƒ½å€ŸåŠ©ç½‘å‹çš„åŠ›é‡äº†ï¼Œå…ˆåç»è¿‡äº†å‘å¾®åšã€æŠ€æœ¯äº¤æµç¾¤é‡Œå¯»æ‰¾å¸®åŠ©ï¼Œæœ€ç»ˆæ‰¾åˆ°äº†2ä¸ªæœ‰è¯¥ç³»ç»Ÿæ‰‹æœºçš„ç½‘å‹ï¼Œç„¶åè®©ä»–ä»¬å¸®å¿™ä¸‹è½½æµ‹è¯•ï¼Œæœç„¶å¿…å´©ã€‚æœ¬æ¥æƒ³å¦‚æœä»–ä»¬åœ¨åŒ—äº¬ï¼Œç«‹åˆ»è¿‡å»æ‰¾ä»–ä»¬ç°åœºæµ‹è¯•ï¼Œè¯·å®¢åƒé¡¿é¥­å°±è§£å†³äº†ï¼Œå¯ä»–ä»¬éƒ½ä¸åœ¨åŒ—äº¬ï¼Œå‘œå‘¼å“€å“‰ã€‚

æœ‰ä¸€ä¸ªåŒäº‹æè®®å¯ä»¥ä¸Šç½‘ç§Ÿä¸€ä¸ªæµ‹è¯•æœºï¼Œæˆ‘ä»¬å°±æ‰¾åˆ°äº†â€œç§Ÿæµ‹äº‘â€ç§Ÿç”¨äº†ä¸€å°`iOS9.1`ç‰ˆæœ¬çš„æµ‹è¯•æœºï¼Œâ€ç§Ÿæµ‹äº‘â€œè¿˜æŒºç»™åŠ›ï¼Œä¸­åˆå°±æŠŠæ‰‹æœºé€æ¥äº†ã€‚

#### æŸ³æš—èŠ±æ˜åˆä¸€æ‘

æ‹¿åˆ°æµ‹è¯•æœºåï¼Œå…ˆä»`AppStore`ä¸‹è½½çº¿ä¸Šç‰ˆæœ¬ï¼Œè¿è¡Œä¸€ä¼šå°±éšæœºåœ¨ä»»ä½•é¡µé¢å´©æºƒäº†ã€‚

æˆ‘å…ˆåœ¨`Xcode`ä¸Šä¸‹è½½`iOS9.2`çš„`æ¨¡æ‹Ÿå™¨`è¿è¡Œæ­£å¸¸ã€‚

æ¥ç€ç”¨çœŸæœºæµ‹è¯•ä¹Ÿä¸ä¼šå´©æºƒã€‚

æˆ‘åˆæ‰“åŒ…ä¸Šä¼ åˆ°[è’²å…¬è‹±]ï¼Œä¸‹è½½åä¹Ÿä¸ä¼šå´©æºƒã€‚

ç„¶åå„ç§æµ‹è¯•æ¥è¿ç»å†äº†å°è¯•-æ€€ç–‘-ä¸è§£-çº³é—·-å›°æƒ‘-ç—›è‹¦-å‘ç‹‚-å´©æºƒ-è¿·èŒ«ç­‰å¿ƒç†è·¯ç¨‹éƒ½æ²¡æ‰¾åˆ°åŸå› ï¼Œä¹Ÿæ²¡é‡åˆ°å´©æºƒæƒ…å†µã€‚

åæ¥æƒ³åˆ°æ—¢ç„¶åªæœ‰ä»`AppStore`ä¸‹è½½æ‰å‡ºç°é—®é¢˜ï¼Œæ€€ç–‘æ˜¯æ‰“åŒ…å‡ºäº†é—®é¢˜ï¼Œç„¶åå°±é‡æ–°æ‰“åŒ…ä¸Šä¼ åˆ°`iTunes Connection`ï¼Œç”¨`TestFlight`åŠŸèƒ½è¿›è¡Œå†…æµ‹ã€‚æœç„¶ä»`TestFlight`ä¸‹çš„ç‰ˆæœ¬å´©æºƒäº†ã€‚ç„¶åå°±ä¸Šç½‘å„ç§æŸ¥æ‰¾`Xcode8`æ‰“åŒ…`iOS9`çº¿ä¸Šå¥”æºƒé—®é¢˜çš„èµ„æ–™ï¼Œæœ€ç»ˆé”å®šåˆ°äº†P3èµ„æºæ–‡ä»¶çš„é—®é¢˜ä¸Šã€‚

`Stackoverflow`æœ‰ä¸€ä¸ªç›¸åŒçš„é—®é¢˜[https://stackoverflow.com/questions/42050549/app-downloaded-from-appstore-crash-in-9-3-lower-version-devices](https://stackoverflow.com/questions/42050549/app-downloaded-from-appstore-crash-in-9-3-lower-version-devices) æˆ‘æŒ‰ç…§ä»–çš„æŸ¥æ‰¾æ–¹å¼ï¼Œæœç„¶å‘ç°æˆ‘ä»¬é¡¹ç›®ä¸­æœ‰ä¸€å¼ `P3`æ ¼å¼èµ„æºå›¾ç‰‡ï¼Œè¿™å¼ å›¾ç‰‡åªæœ‰åœ¨æµ‹è¯•ç¯å¢ƒä¸‹æ‰ä¼šç”¨åˆ°ï¼Œçº¿ä¸Šæ€ä¹ˆä¼šå´©æºƒå‘¢ï¼ï¼ŸæŠ±ç€è¯•è¯•çš„æ€åº¦æˆ‘ä¹°äº†ä¸€ä¸ªç–—ç¨‹ï¼ˆåˆ é™¤äº†è¿™å¼ å›¾ç‰‡ï¼‰ï¼Œç„¶åé‡æ–°æ‰“åŒ…ä¸Šä¼ `TestFlight`ä¸‹è½½ä¸€åˆ‡è¿è¡Œæ­£å¸¸ï¼Œçœ‹æ¥çœŸæ˜¯ä¸€å¼ å›¾ç‰‡é€ æˆçš„æƒ¨æ¡ˆã€‚

#### è§£å†³æ–¹å¼

æ£€æŸ¥è‡ªå·±é¡¹ç›®ä¸­æ˜¯å¦åŒ…å«`16ä½`æˆ–è€…`P3`æ ¼å¼å›¾ç‰‡çš„æ–¹å¼å¦‚ä¸‹ï¼š

```
1. Create an Inspectable .ipa file.  In the Xcode Organizer (Xcode->Window->Organizer), select an archive to inspect, click â€œExport...", and choose "Export for Enterprise or Ad-Hoc Deployment". This will create a local copy of the .ipa file for your app.
2. Locate that .ipa file and change its the extension to .zip.
3. Expand the .zip file. This will produce a Payload folder containing your .app bundle.
4. Open a terminal and change the working directory to the top level of your .app bundle
cd path/to/Payload/your.app
 
5. Use the find tool to locate Assets.car files in your .app bundle as shown below:
find . -name 'Assets.car'
 
6. Use the assetutil tool to find any 16-bit or P3 assets, in each Assets.car your application has as shown below. :
sudo xcrun --sdk iphoneos assetutil --info /path/to/a/Assets.car > /tmp/Assets.json
 
7.  Examine the resulting /tmp/Assets.json and look for any contents containing â€œDisplayGamut": â€œP3â€ and its associated â€œName".  This will be the name of your imageset containing one or more 16-bit or P3 assets.
 
8.  Replace those assets with 8-bit / sRGB assets, then rebuild your app.
```

åæ¥åœ¨ç½‘ä¸Šæ‰¾åˆ°ä¸€ä¸ªä¸­æ–‡ç‰ˆï¼š
![asses01.png](http://upload-images.jianshu.io/upload_images/1159872-7984c726748019e1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
-----------------------
æœ€æ–°æ–‡ç« ç¬¬ä¸€æ—¶é—´å‘å¸ƒåœ¨å¾®ä¿¡å…¬ä¼—å·ï¼š`ä¹Coding`ã€‚å…³æ³¨è¯·å¾®ä¿¡æœç´¢å…¬ä¼—å·ï¼š`lecoding`æˆ–è€…`ä¹Coding`,æˆ–è€…æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨ã€‚
![lecoding](http://upload-images.jianshu.io/upload_images/1159872-1bb43add674a10d0.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)icon.jpg
